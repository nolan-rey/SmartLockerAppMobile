<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="SmartLockerApp.Views.LockerDetailPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="Détails du casier"
             BackgroundColor="#F8FAFC">

    <Grid>
        
        <!-- Header with Navigation -->
        <Border Style="{StaticResource NavigationHeader}">
            <Grid Style="{StaticResource MobileContentContainer}" Padding="0,20">
                <StackLayout Orientation="Horizontal" VerticalOptions="Center" Spacing="16">
                    <Button x:Name="BackButton" 
                            Style="{StaticResource BackButton}"
                            Clicked="BackButton_Clicked"/>
                    <Label Text="Détails du casier" 
                           FontSize="18" 
                           FontAttributes="Bold" 
                           VerticalOptions="Center" 
                           TextColor="Black"/>
                </StackLayout>
            </Grid>
        </Border>
        
        <!-- Content -->
        <ScrollView Margin="0,100,0,0">
            <Grid HorizontalOptions="Center" MaximumWidthRequest="400" Margin="20">
                <StackLayout Spacing="24" HorizontalOptions="Fill">
                    
                    <!-- Hero Section -->
                    <Border BackgroundColor="White" 
                            StrokeThickness="0"
                            Padding="32"
                            HorizontalOptions="Fill">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="24"/>
                        </Border.StrokeShape>
                        <Border.Shadow>
                            <Shadow Brush="Black" Opacity="0.15" Radius="30" Offset="0,8"/>
                        </Border.Shadow>
                        
                        <StackLayout Spacing="24" HorizontalOptions="Center">
                            
                            <!-- Main Icon with Gradient Effect -->
                            <Grid HorizontalOptions="Center">
                                <Border BackgroundColor="#2563EB"
                                        StrokeThickness="0"
                                        WidthRequest="120" 
                                        HeightRequest="120" 
                                        HorizontalOptions="Center">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="24"/>
                                    </Border.StrokeShape>
                                    <Border.Shadow>
                                        <Shadow Brush="#2563EB" Opacity="0.4" Radius="20" Offset="0,8"/>
                                    </Border.Shadow>
                                    <Label Text="🔓" FontSize="48" HorizontalOptions="Center" VerticalOptions="Center" TextColor="White"/>
                                </Border>
                                
                                <!-- Status Indicator -->
                                <Border BackgroundColor="#10B981" 
                                        WidthRequest="32" 
                                        HeightRequest="32"
                                        HorizontalOptions="End"
                                        VerticalOptions="Start"
                                        Margin="0,-8,-8,0">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="16"/>
                                    </Border.StrokeShape>
                                    <Border.Shadow>
                                        <Shadow Brush="#10B981" Opacity="0.3" Radius="8" Offset="0,2"/>
                                    </Border.Shadow>
                                    <Label Text="✓" FontSize="16" HorizontalOptions="Center" VerticalOptions="Center" TextColor="White" FontAttributes="Bold"/>
                                </Border>
                            </Grid>
                            
                            <!-- Title Section -->
                            <StackLayout HorizontalOptions="Center" Spacing="12">
                                <Label x:Name="LockerNameText" 
                                       Text="Casier A1" 
                                       FontSize="28" 
                                       FontAttributes="Bold" 
                                       HorizontalOptions="Center" 
                                       TextColor="#1E293B"/>
                                
                                <Border BackgroundColor="#DCFCE7" 
                                        StrokeThickness="1"
                                        Stroke="#10B981"
                                        Padding="12,6" 
                                        HorizontalOptions="Center">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="20"/>
                                    </Border.StrokeShape>
                                    <Label x:Name="LockerStatusText" 
                                           Text="Disponible" 
                                           FontSize="14" 
                                           FontAttributes="Bold" 
                                           TextColor="#10B981"/>
                                </Border>
                                
                                <Label Text="Prêt à être utilisé" 
                                       FontSize="16" 
                                       HorizontalOptions="Center" 
                                       TextColor="#64748B"
                                       Margin="0,8,0,0"/>
                            </StackLayout>
                            
                        </StackLayout>
                    </Border>
                    
                    <!-- Info Cards -->
                    <Grid ColumnDefinitions="*,*" ColumnSpacing="16">
                        
                        <!-- Location Card -->
                        <Border Grid.Column="0"
                                BackgroundColor="White" 
                                StrokeThickness="1"
                                Stroke="#E2E8F0"
                                Padding="20">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="16"/>
                            </Border.StrokeShape>
                            <Border.Shadow>
                                <Shadow Brush="Black" Opacity="0.08" Radius="15" Offset="0,4"/>
                            </Border.Shadow>
                            
                            <StackLayout Spacing="12" HorizontalOptions="Center">
                                <Border BackgroundColor="#F59E0B" 
                                        WidthRequest="48" 
                                        HeightRequest="48" 
                                        StrokeThickness="0"
                                        HorizontalOptions="Center">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="12"/>
                                    </Border.StrokeShape>
                                    <Label Text="📍" FontSize="24" HorizontalOptions="Center" VerticalOptions="Center" TextColor="White"/>
                                </Border>
                                
                                <Label Text="Emplacement" 
                                       FontSize="14" 
                                       FontAttributes="Bold" 
                                       TextColor="#64748B"
                                       HorizontalOptions="Center"/>
                                
                                <Label x:Name="LockerLocationText" 
                                       Text="Entrée principale" 
                                       FontSize="16" 
                                       FontAttributes="Bold"
                                       TextColor="#1E293B"
                                       HorizontalOptions="Center"
                                       HorizontalTextAlignment="Center"/>
                            </StackLayout>
                        </Border>
                        
                        <!-- Connection Card -->
                        <Border Grid.Column="1"
                                BackgroundColor="White" 
                                StrokeThickness="1"
                                Stroke="#E2E8F0"
                                Padding="20">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="16"/>
                            </Border.StrokeShape>
                            <Border.Shadow>
                                <Shadow Brush="Black" Opacity="0.08" Radius="15" Offset="0,4"/>
                            </Border.Shadow>
                            
                            <StackLayout Spacing="12" HorizontalOptions="Center">
                                <Border BackgroundColor="#10B981" 
                                        WidthRequest="48" 
                                        HeightRequest="48" 
                                        StrokeThickness="0"
                                        HorizontalOptions="Center">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="12"/>
                                    </Border.StrokeShape>
                                    <Label Text="📶" FontSize="24" HorizontalOptions="Center" VerticalOptions="Center" TextColor="White"/>
                                </Border>
                                
                                <Label Text="Connexion" 
                                       FontSize="14" 
                                       FontAttributes="Bold" 
                                       TextColor="#64748B"
                                       HorizontalOptions="Center"/>
                                
                                <Label Text="Excellente" 
                                       FontSize="16" 
                                       FontAttributes="Bold"
                                       TextColor="#10B981"
                                       HorizontalOptions="Center"/>
                            </StackLayout>
                        </Border>
                        
                    </Grid>
                    
                    <!-- Action Button -->
                    <Border BackgroundColor="#2563EB" 
                            StrokeThickness="0"
                            Padding="0"
                            HorizontalOptions="Fill">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="20"/>
                        </Border.StrokeShape>
                        <Border.Shadow>
                            <Shadow Brush="#2563EB" Opacity="0.4" Radius="20" Offset="0,8"/>
                        </Border.Shadow>
                        
                        <Button x:Name="UseLockerButton" 
                                Text="🚀 Utiliser ce casier"
                                HeightRequest="64"
                                FontSize="18"
                                FontAttributes="Bold"
                                BackgroundColor="Transparent"
                                TextColor="White"
                                BorderWidth="0"
                                HorizontalOptions="Fill"
                                Clicked="UseLockerButton_Clicked"/>
                    </Border>
                    
                    <!-- Alternative Buttons (Hidden by default) -->
                    <Border x:Name="OpenRemotelyButton"
                            BackgroundColor="#F59E0B" 
                            StrokeThickness="0"
                            Padding="0"
                            HorizontalOptions="Fill"
                            IsVisible="False">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="20"/>
                        </Border.StrokeShape>
                        <Border.Shadow>
                            <Shadow Brush="#F59E0B" Opacity="0.4" Radius="20" Offset="0,8"/>
                        </Border.Shadow>
                        
                        <Button Text="🔓 Ouvrir à distance"
                                HeightRequest="64"
                                FontSize="18"
                                FontAttributes="Bold"
                                BackgroundColor="Transparent"
                                TextColor="White"
                                BorderWidth="0"
                                HorizontalOptions="Fill"
                                Clicked="OpenRemotelyButton_Clicked"/>
                    </Border>
                    
                    <Border x:Name="MaintenanceButton"
                            BackgroundColor="#6B7280" 
                            StrokeThickness="0"
                            Padding="0"
                            HorizontalOptions="Fill"
                            IsVisible="False">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="20"/>
                        </Border.StrokeShape>
                        
                        <Button Text="🔧 Casier en maintenance"
                                HeightRequest="64"
                                FontSize="18"
                                FontAttributes="Bold"
                                BackgroundColor="Transparent"
                                TextColor="White"
                                BorderWidth="0"
                                HorizontalOptions="Fill"
                                IsEnabled="False"/>
                    </Border>
                    
                </StackLayout>
            </Grid>
        </ScrollView>
    </Grid>
</ContentPage>
